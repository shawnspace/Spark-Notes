# 数据清洗
Imputer
The Imputer transformer completes missing values in a dataset, either using the mean or the median of the columns。
The input columns should be of DoubleType or FloatType

# 特征转换
Binarizer
将数值特征离散为二向特征，以threshold参数为分割点。Feature values greater than the threshold are binarized to 1.0; values equal to or less than the threshold are binarized to 0.0
Both Vector and Double types are supported for inputCol.

Bucketizer 
将数值特征离散化，transforms a column of continuous features to a column of feature buckets
splits参数： 比如 Array(Double.NegativeInfinity, 0.0, 1.0, Double.PositiveInfinity) and Array(0.0, 1.0, 2.0)

QuantileDiscretizer
数值特征离散化，The number of bins is set by the numBuckets parameter.

StringIndexer
将string column转化为column of label indices。Indices are in [0, numLabels), ordered by label frequencies
常用于在训练之前将label进行预处理

IndexToString
将StringIndexer的输出逆向转化回string column。original label在column的metadata里
常用于从 column of predicted indices中取回原始的label

OneHotEncoderEstimator
将由label index 表示的 categorical feature 转化成 to a binary vector：0或1表示的连续特征
可以 transform multiple columns, returning an one-hot-encoded output vector column for each input column.

VectorIndexer
不同于StringIndexer只能接受string column，它可以接受Vector column。自动地 decide which features should be categorical based on the number of distinct values and maxCategories

Normalizer
transforms a dataset of Vector rows, normalizing each Vector to unit norm, p=2  by default

StandardScaler
transforms a dataset of Vector rows, normalizing each feature to have unit standard deviation and/or zero mean

MinMaxScaler 
transforms a dataset of Vector rows, rescaling each feature to a specific range
min: 0.0 by default, shared by all features.
max: 1.0 by default, shared by all features.

MaxAbsScaler 
transforms a dataset of Vector rows, rescaling each feature to range [-1, 1] by dividing through the maximum absolute value in each feature
It does not shift/center the data, and thus does not destroy any sparsity

# 特征选择
VectorSlicer
从名为inputCol的column里，按indices或者name来选出特征，选出的特征在名为outputCol的column里。筛选的特征和筛选后的结果都会在DF里。

ChiSqSelector
使用Chi-squared test来进行特征选择 


# 特征降维
PCA
一个estimator

FeatureHasher
Feature hashing projects a set of categorical or numerical features into a feature vector of specified dimension (typically substantially smaller than that of the original feature space). This is done using the hashing trick to map features to indices in the feature vector.

# 特征构建
RFormula

PolynomialExpansion
将输入特征按degree来进行多项式扩展：（x1,x2)就变成了(x1, x2)^3，包含(x1, x1^2, x1^3, x2, x2^2, x2^3, x1x2, x1^2x2, x1x2^2)

# NLP相关的特征处理
Tokenizer
A simple class provides tokenization

RegexTokenizer 
more advanced tokenization based on regular expression (regex) matching. By default, the parameter “pattern” (regex, default: "\\s+") is used as delimiters to split the input text.

StopWordsRemover
It takes as input a sequence of strings (e.g. the output of a Tokenizer) and drops all the stop words from the input sequences. The list of stopwords is specified by the stopWords parameter

n-gram
NGram class can be used to transform input features into n-grams。The output will consist of a sequence of n-grams where each n-gram is represented by a space-delimited string。

TF: HashingTF 和 CountVectorizer
HashingTF
是一个transformer
将 a bag of words 转化为 fixed-length feature vectors。每个词会被hash为一个新的term，再在这些新的term上进行频率统计。This approach avoids the need to compute a global term-to-index map but it suffers from potential hash collisions。To reduce the chance of collision, we can increase the target feature dimension。
An optional binary toggle parameter 可以把不为0的特征全部转换为1，从而得到presence or not特征
CountVectorizer
CountVectorizer can be used as an Estimator to extract the vocabulary, and generates a CountVectorizerModel。CountVectorizerModel 可以将 documents 转化为 vectors of tf。这里的vectors of tf是稀疏表示：3,[0,3,5],[1.0,1.0,1.0]

IDF: IDF
IDF is an Estimator which is fit on a dataset and produces an IDFModel. The IDFModel takes feature vectors (generally created from HashingTF or CountVectorizer) and scales each feature。

# Utility
VectorAssembler
combines a given list of columns into a single vector column
常用于 combining raw features and features generated by different feature transformers into a single feature vector, in order to train ML models like logistic regression and decision trees

VectorSizeHint
Applying this transformer to a dataframe produces a new dataframe with updated metadata for inputCol specifying the vector size

















